# Reusable Agents Specification - Phase II Todo Application

## Overview
This document defines the reusable agents that will be used throughout the development of Phase II and subsequent phases of the todo application. These agents follow the spec-driven development approach and are designed for reuse across all phases.

## Agent Architecture

### Planner Agent
The Planner Agent is responsible for converting feature specifications into detailed development plans.

#### Responsibilities
- Parse feature specifications and extract key requirements
- Identify technology stack dependencies and constraints
- Generate architectural decisions based on requirements
- Create detailed implementation plans with sequential steps
- Map functional requirements to specific files and components
- Define database schema changes and API endpoint designs

#### Capabilities
- Specification analysis and requirement extraction
- Technical architecture planning
- File structure and component mapping
- Database schema design
- API design and documentation
- Dependency resolution and conflict detection

#### Inputs
- Feature specification document (spec.md)
- Project constitution and guidelines
- Existing codebase structure
- Technology stack requirements

#### Outputs
- Detailed implementation plan (plan.md)
- File creation/modification tasks
- Database migration requirements
- API endpoint specifications
- Component hierarchy definitions

#### Configuration
- Template-based planning using .specify/templates/plan-template.md
- Integration with project constitution rules
- Validation against architectural constraints

### Builder Agent
The Builder Agent is responsible for implementing the plans generated by the Planner Agent.

#### Responsibilities
- Generate code based on implementation plans
- Create new files and directories as specified
- Modify existing code while maintaining functionality
- Implement API endpoints and database models
- Generate frontend components and pages
- Create test files and validation scripts

#### Capabilities
- Code generation from specifications and plans
- File creation and modification
- Template-based component generation
- API endpoint implementation
- Database model creation
- Frontend page and component development
- Test case generation

#### Inputs
- Implementation plan (plan.md)
- Feature specification (spec.md)
- Code templates and patterns
- Technology stack guidelines
- Project structure specifications

#### Outputs
- Generated source code files
- Updated project structure
- Implemented API endpoints
- Created database models
- Generated frontend components
- Associated test files

#### Configuration
- Template-based generation using project templates
- Integration with version control systems
- Code quality validation and linting
- Automated testing integration

### Reviewer Agent
The Reviewer Agent is responsible for validating implementations against specifications and plans.

#### Responsibilities
- Validate generated code against specifications
- Check for adherence to architectural decisions
- Verify implementation completeness
- Identify potential issues and inconsistencies
- Ensure code quality and best practices
- Validate security and performance considerations

#### Capabilities
- Code quality assessment
- Specification compliance checking
- Architecture validation
- Security vulnerability scanning
- Performance consideration evaluation
- Documentation verification
- Test coverage analysis

#### Inputs
- Generated code files
- Original specification (spec.md)
- Implementation plan (plan.md)
- Quality standards and guidelines
- Security and performance requirements

#### Outputs
- Validation reports
- Issue identification and recommendations
- Compliance status
- Quality metrics
- Security assessment results
- Suggested improvements

#### Configuration
- Quality gate definitions
- Security scanning integration
- Performance benchmark comparisons
- Compliance rule sets

## Agent Workflow Integration

### Spec → Plan → Task → Implement Cycle
1. **Specification Input**: All agents receive the feature specification as primary input
2. **Planning Phase**: Planner Agent creates detailed implementation plan
3. **Task Generation**: Plan is broken down into executable tasks
4. **Implementation Phase**: Builder Agent executes tasks to generate code
5. **Review Phase**: Reviewer Agent validates implementation against spec and plan
6. **Iteration**: Issues identified by Reviewer Agent trigger planning adjustments

### Communication Protocols
- Standardized data formats for inter-agent communication
- JSON-based intermediate representations
- Consistent file naming and location conventions
- Version-controlled intermediate artifacts

## Agent Reusability Across Phases

### Phase I to Phase II Transition
- Planner Agent learns from Phase I patterns and applies to Phase II
- Builder Agent uses established templates and patterns
- Reviewer Agent validates Phase I compatibility with Phase II changes

### Cross-Phase Consistency
- Shared configuration files across agent instances
- Common template libraries for all phases
- Consistent quality standards enforcement
- Reusable validation rules

## Agent Configuration and Templates

### Planner Agent Templates
- `.specify/templates/plan-template.md` - Standard planning template
- `.specify/templates/architecture-template.md` - Architecture decision template
- `.specify/templates/database-plan-template.md` - Database planning template

### Builder Agent Templates
- `.specify/templates/frontend-component-template.tsx` - Frontend component template
- `.specify/templates/api-endpoint-template.py` - Backend API endpoint template
- `.specify/templates/model-template.py` - Database model template
- `.specify/templates/test-template.py` - Test file template

### Reviewer Agent Rules
- `.specify/rules/security-rules.json` - Security validation rules
- `.specify/rules/performance-rules.json` - Performance validation rules
- `.specify/rules/quality-rules.json` - Code quality validation rules

## Quality Assurance for Agents

### Self-Validation
- Agents validate their own outputs against specifications
- Built-in consistency checks between phases
- Automated testing of generated artifacts
- Performance monitoring of agent operations

### Feedback Loops
- Agent performance metrics collection
- Specification clarity feedback to users
- Template effectiveness measurement
- Continuous improvement recommendations

## Security Considerations

### Agent Security
- Secure handling of sensitive configuration data
- Isolated execution environments
- Input validation for all specification data
- Access controls for agent operations

### Code Generation Security
- Security pattern enforcement in generated code
- Vulnerability scanning integration
- Secure coding practice enforcement
- Dependency security validation

This agent specification ensures consistent, reusable, and secure development processes across all phases of the todo application evolution while maintaining strict adherence to the spec-driven development methodology.